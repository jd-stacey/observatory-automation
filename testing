if args.coords:
    logger.info(f"Using manual coordinates: {args.coords}")
    # Parse coordinates
    try:
        coords_parts = args.coords.strip().split()
        if len(coords_parts) != 2:
            raise ValueError("Expected 'RA_HOURS DEC_DEGREES'")
        ra_hours = float(coords_parts[0])
        dec_deg = float(coords_parts[1])
        
        # Validate ranges
        if not (0 <= ra_hours < 24):
            raise ValueError(f"RA must be 0-24 hours, got {ra_hours}")
        if not (-90 <= dec_deg <= 90):
            raise ValueError(f"Dec must be -90 to +90 degrees, got {dec_deg}")
            
        # Create manual TargetInfo (no TIC data)
        target_info = TargetInfo(
            tic_id=f"MANUAL-{ra_hours:.3f}h_{dec_deg:+.3f}d",
            ra_j2000_hours=ra_hours,
            dec_j2000_deg=dec_deg,
            gaia_g_mag=12.0,  # Default for exposure calculation
            magnitude_source="manual-default"
        )
        logger.info(f"Manual target: RA={ra_hours:.6f} h, Dec={dec_deg:.6f}Â°")
        
    except (ValueError, IndexError) as e:
        logger.error(f"Invalid coordinates format '{args.coords}': {e}")
        logger.error("Use format: --coords 'RA_HOURS DEC_DEGREES' (e.g., '12.345 -67.890')")
        return 1
else:
    logger.info(f"Resolving target: {args.tic_id}")
    target_resolver = TICTargetResolver(config_loader)
    target_info = target_resolver.resolve_tic_id(args.tic_id)




from autopho.targets.resolver import TICTargetResolver, TargetResolutionError, TargetInfo
