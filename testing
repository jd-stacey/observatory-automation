max_service_wait = 60  # Total time to wait for services
service_check_interval = 3  # Check every N seconds

for attempt in range(0, max_service_wait, service_check_interval):
    self.logger.info(f"Testing ASCOM readiness... (attempt {attempt//service_check_interval + 1})")
    
    # Try a quick telescope connection test
    try:
        test_tel = AlpacaTelescopeDriver()
        if test_tel.connect(self.device_configs['telescope']):
            test_tel.disconnect()
            self.logger.info("ASCOM services appear ready!")
            break
    except:
        pass
        
    if attempt + service_check_interval >= max_service_wait:
        self.logger.warning("ASCOM services may not be fully ready, continuing anyway...")
        break
        
    time.sleep(service_check_interval)
