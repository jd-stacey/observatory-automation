def is_platesolve_current_for_frame(self, data: Dict[str, Any], current_frame_path: str) -> bool:
    """Check if platesolve is valid and not yet processed (ignores current frame number)"""
    try:
        solved_filename = data.get('fitsname', {}).get("0", "")
        if not solved_filename:
            return False
        
        # Extract basenames for proper comparison
        solved_basename = Path(solved_filename).name
        current_basename = Path(current_frame_path).name
        
        # Extract target IDs from both filenames
        import re
        def extract_target_id(filename):
            match = re.match(r'^(.+?)_\d{8}_', filename)
            return match.group(1) if match else None
        
        solved_target = extract_target_id(solved_basename)
        current_target = extract_target_id(current_basename)
        
        # Different targets = not current
        if solved_target != current_target:
            logger.debug(f"Platesolve is for different target: {solved_target} vs {current_target}")
            return False
        
        # Extract solved sequence number
        solved_seq = extract_sequence_from_filename(solved_basename)
        
        if solved_seq < 0:
            logger.debug("Could not extract sequence number from platesolve")
            return False
        
        # Check if we've already processed this sequence
        if solved_seq <= self.last_applied_sequence:
            logger.debug(f"Platesolve already processed: solved seq {solved_seq} <= last applied {self.last_applied_sequence}")
            return False
        
        # Accept any NEW sequence for the current target (even if older than current frame)
        logger.debug(f"Platesolve is valid: solved frame {solved_seq} (new, not yet applied)")
        return True
            
    except Exception as e:
        logger.warning(f"Error checking frame currency: {e}")
        return False
