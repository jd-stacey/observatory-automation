def ensure_telescope_tracking(telescope_driver, check_interval=30):
    """Background thread to ensure telescope tracking stays enabled"""
    def tracking_monitor():
        logger = logging.getLogger('tracking_monitor')
        while getattr(tracking_monitor, 'running', True):
            try:
                if telescope_driver and telescope_driver.is_connected():
                    if hasattr(telescope_driver.telescope, 'Tracking'):
                        if not telescope_driver.telescope.Tracking:
                            logger.warning("Telescope tracking disabled - re-enabling")
                            telescope_driver.telescope.Tracking = True
                            time.sleep(0.5)
                            if telescope_driver.telescope.Tracking:
                                logger.info("Telescope tracking successfully re-enabled")
            except Exception as e:
                logger.error(f"Tracking monitor error: {e}")
            time.sleep(check_interval)
    
    tracking_thread = threading.Thread(target=tracking_monitor, daemon=True)
    tracking_thread.start()
    tracking_monitor.running = True
    return tracking_thread
