# In SpectroscopyImagingSession.__init__, right after the camera manager setup:
if camera_manager and not dry_run:
    # Force spectro to only use 294MM camera
    cameras_to_remove = []
    for name, camera in camera_manager.cameras.items():
        if '294MM' not in camera.name:
            cameras_to_remove.append(name)
    
    for name in cameras_to_remove:
        logger.debug(f"Removing non-294MM camera for spectroscopy: {camera_manager.cameras[name].name}")
        camera_manager.cameras.pop(name)
    
    # Ensure we have the 294MM as both main and guide
    guide_camera = camera_manager.get_guide_camera()
    if guide_camera and '294MM' in guide_camera.name:
        camera_manager.cameras['main'] = guide_camera
        logger.info(f"Using 294MM camera for spectroscopy: {guide_camera.name}")
    else:
        raise ImagingSessionError("294MM camera not found for spectroscopy")
